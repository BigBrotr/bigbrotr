# ============================================================================
# Validator Service Configuration
# ============================================================================
# Validates candidate relay URLs before promoting to relays table.
# Workflow: cleanup → fetch chunk → validate in parallel → persist → repeat
# ============================================================================

interval: 300.0  # 5 minutes between runs

# Prometheus metrics and health checks
metrics:
  enabled: true
  port: 8002
  host: "0.0.0.0"
  path: "/metrics"
  health:
    max_cycle_age_seconds: 900.0   # Unhealthy if no cycle in 15 minutes

# Processing
processing:
  chunk_size: 100            # Candidates per chunk
  max_candidates: 500        # Limit per run

# Cleanup of exhausted candidates
cleanup:
  enabled: false             # Remove candidates with too many failures
  max_failures: 10           # Threshold for removal

# Network configuration (per-network concurrency and timeouts)
networks:
  clearnet:
    enabled: true
    max_tasks: 50
    timeout: 10.0

  tor:
    enabled: true
    proxy_url: "socks5://tor:9050"
    max_tasks: 10
    timeout: 30.0

  i2p:
    enabled: false
    proxy_url: "socks5://i2p:4447"
    max_tasks: 5
    timeout: 45.0

  loki:
    enabled: false
    proxy_url: "socks5://lokinet:1080"
    max_tasks: 5
    timeout: 30.0
