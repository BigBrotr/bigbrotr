# ============================================================================
# Validator Service Configuration (BigBrotr)
# ============================================================================
# Description: Validate candidate relay URLs before adding to relays table
# Used by: src/services/validator.py
# Dependencies: Seeder and Finder write candidates to service_data
# Notes: Uses overlay network proxies for hidden relay validation (.onion, .i2p, .loki)
# ============================================================================

# Cycle interval (seconds between validation runs)
# Range: >= 60.0
interval: 300.0

# WebSocket connection timeout (seconds)
# Range: 1.0 - 60.0
connection_timeout: 10.0

# Maximum candidates to validate per cycle (null = unlimited)
# When set, candidates are selected probabilistically based on retry count
# (candidates with more failed attempts have lower probability of selection)
# max_candidates_per_run: 100

# Concurrency settings
concurrency:
  max_parallel: 10           # Maximum concurrent relay validations (Range: 1 - 100)

# Overlay network proxy configuration
# Each network requires its own SOCKS5 proxy for connectivity
proxy:
  # Tor proxy for .onion relays
  tor:
    enabled: true
    proxy_url: "socks5://tor:9050"

  # I2P proxy for .i2p relays
  i2p:
    enabled: true
    proxy_url: "socks5://i2p:4447"

  # Lokinet proxy for .loki relays (Linux only - requires TUN device)
  loki:
    enabled: false           # Enable only on Linux with --profile linux-only
    proxy_url: "socks5://lokinet:1080"
