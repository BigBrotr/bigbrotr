# ============================================================================
# Validator Service Configuration (BigBrotr)
# ============================================================================
# Description: Validate candidate relay URLs before adding to relays table
# Used by: src/services/validator.py
# Dependencies: Seeder and Finder write candidates to service_data
# Notes: Uses Tor proxy for .onion relay validation
# ============================================================================

# Cycle interval (seconds between validation runs)
# Range: >= 60.0
interval: 300.0

# WebSocket connection timeout (seconds)
# Range: 1.0 - 60.0
connection_timeout: 10.0

# Maximum candidates to validate per cycle (null = unlimited)
# When set, candidates are selected probabilistically based on retry count
# (candidates with more failed attempts have lower probability of selection)
# max_candidates_per_run: 100

# Concurrency settings
concurrency:
  max_parallel: 10           # Maximum concurrent relay validations (Range: 1 - 100)

# Tor proxy configuration (for .onion relays)
# proxy_url is computed as socks5://{host}:{port}
tor:
  enabled: true
  host: "tor"              # Tor proxy host (Docker service name)
  port: 9050               # Tor proxy port (Range: 1 - 65535)
