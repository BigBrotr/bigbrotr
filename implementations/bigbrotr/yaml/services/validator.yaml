# ============================================================================
# Validator Service Configuration (BigBrotr)
# ============================================================================
# Description: Validate candidate relay URLs before adding to relays table
# Used by: src/services/validator.py
# Dependencies: Seeder and Finder write candidates to service_data
# Notes: Uses overlay network proxies for hidden relay validation (.onion, .i2p, .loki)
# ============================================================================

# Cycle interval (seconds between validation runs)
interval: 300.0

# Batch processing settings
batch:
  timeout: 10.0              # WebSocket connection timeout (seconds)
  # max_candidates: 100      # Limit candidates per cycle (null = unlimited)

# Concurrency settings
concurrency:
  processes: 1               # Number of worker processes (Range: 1 - 32)
  tasks: 10                  # Concurrent tasks per process (Range: 1 - 100)

# Cleanup settings for failed candidates
cleanup:
  enabled: false             # Enable automatic cleanup of max-attempt candidates
  max_attempts: 10           # Delete candidates after this many failures

# Overlay network proxy configuration
network:
  clearnet:
    enabled: true

  tor:
    enabled: true
    proxy_url: "socks5://tor:9050"

  i2p:
    enabled: true
    proxy_url: "socks5://i2p:4447"

  loki:
    enabled: false           # Enable only on Linux with --profile linux-only
    proxy_url: "socks5://lokinet:1080"
