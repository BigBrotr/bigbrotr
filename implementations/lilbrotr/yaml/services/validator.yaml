# ============================================================================
# Validator Service Configuration (LilBrotr)
# ============================================================================
# Validates candidate relay URLs before promoting to relays table.
# Workflow: cleanup -> fetch chunk -> validate in parallel -> persist -> repeat
# Notes: Clearnet only with reduced frequency for lighter resource usage.
# ============================================================================

# Cycle interval (seconds between validation runs)
interval: 28800.0  # 8 hours

# Prometheus metrics
metrics:
  enabled: true
  port: 8002
  host: "0.0.0.0"
  path: "/metrics"

# Processing configuration
processing:
  chunk_size: 100            # Candidates per batch (Range: 10-1000)
  max_candidates: 200        # Limit per run (default: null = unlimited)

# Cleanup configuration
cleanup:
  enabled: true
  max_failures: 100          # Remove candidates after 100 failed attempts

# Network-specific settings (clearnet only by default for lilbrotr)
networks:
  clearnet:
    enabled: true
    max_tasks: 20            # Reduced from 50 (lighter resource usage)
    timeout: 10.0            # Connection timeout

  tor:
    enabled: false           # Disabled by default (enable tor service in docker-compose first)
    proxy_url: "socks5://tor:9050"
    max_tasks: 5
    timeout: 30.0

  i2p:
    enabled: false           # Disabled by default (enable i2p service in docker-compose first)
    proxy_url: "socks5://i2p:4447"
    max_tasks: 3
    timeout: 45.0

  loki:
    enabled: false           # Disabled by default (requires Lokinet - Linux only)
    proxy_url: "socks5://lokinet:1080"
    max_tasks: 3
    timeout: 30.0
