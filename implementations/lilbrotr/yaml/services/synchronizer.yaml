# ============================================================================
# Synchronizer Service Configuration (LilBrotr)
# ============================================================================
# Description: Synchronize Nostr events from relays to the database
# Note: Lighter configuration - only overrides from defaults are listed
# See: implementations/bigbrotr/yaml/services/synchronizer.yaml for full config
# ============================================================================

# Unified network configuration (clearnet only for lilbrotr)
networks:
  clearnet:
    enabled: true
    max_tasks: 5               # Reduced concurrency for lighter resource usage
    timeout: 30.0

  tor:
    enabled: false             # Disabled by default (enable tor service in docker-compose first)
    proxy_url: "socks5://tor:9050"
    max_tasks: 3
    timeout: 60.0

  i2p:
    enabled: false             # Disabled by default (enable i2p service in docker-compose first)
    proxy_url: "socks5://i2p:4447"
    max_tasks: 2
    timeout: 90.0

  loki:
    enabled: false             # Disabled by default (requires Lokinet - Linux only)
    proxy_url: "socks5://lokinet:1080"
    max_tasks: 2
    timeout: 60.0

# Reduced concurrency for lighter resource usage
concurrency:
  max_parallel: 5            # Max parallel relay connections per process
  max_processes: 2           # Number of worker processes
  stagger_delay: [0, 30]     # Random delay range [min, max] to prevent thundering herd
