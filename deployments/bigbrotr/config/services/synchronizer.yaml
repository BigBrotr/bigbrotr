# =============================================================================
# Synchronizer Service Configuration (BigBrotr)
# =============================================================================
# Fetches Nostr events from relays and stores them with relay associations.
# Uses asyncio.TaskGroup with semaphore-bounded concurrency.
# Only values that differ from defaults are specified here.
# See brotr/config/services/synchronizer.yaml for all options and documentation.
# =============================================================================

pool:
  user: bigbrotr_writer
  password_env: DB_WRITER_PASSWORD
  min_size: 2
  max_size: 5

metrics:
  enabled: true
  host: "0.0.0.0"                  # Bind to all interfaces for Docker access

networks:
  clearnet:
    max_tasks: 100                 # Double the default for faster sync
  tor:
    enabled: true                  # Sync from Tor (.onion) relays

overrides:
  - url: "wss://relay.damus.io"
    timeouts:
      request: 60.0                # Extended request timeout for high-volume relay
      relay: 7200.0                # Allow up to 2 hours per sync session
